<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM접근하기</title>
</head>
<body>
    <h1>DOM접근하기</h1>
    <!-- 
        DOM Document Object Model
        - 작성한 html태그를 계층구조에 맞춰어 모델링한 결과
        - document
    -->
    <button onclick="test1();">getElementById</button>
    <div id="area1">abcdefg</div>
    <script>
    /**
     * document.getElementById
     * - 1개의 태그객체 또는 null이 반환
     * - null은 값없음을 의미하는 object타입
     */
    function test1(){
        const div = document.getElementById("area1"); // 태그객체
        console.log(typeof div, div); // object 
        console.dir(div); // 객체를 계층적 구조로 확인
        console.log(div.innerHTML);
        div.innerHTML = '가나다라마바사';

        const xxx = document.getElementById("xxx");
        console.log(typeof xxx, xxx); // object null
    }
    </script>

    <ul id="web-client">
        <li>HTML5</li>
        <li>CSS3</li>
        <li>Javascript2015</li>
    </ul>
    <button onclick="test2();">getElementsByTagName</button>
    <script>
    /**
     * getElementsByTagName
     * - 해당태그객체요소를 가진 배열이 반환
     */
    function test2(){
        const list = document.getElementsByTagName("li");
        console.log(list);

        let blue = 50;
        for(let i = 0; i < list.length; i++){
            const li = list[i];
            console.log(i, li, li.innerHTML);
            li.innerHTML = 'ABC' + i;
            li.style.backgroundColor = 'rgb(130, 220, ' + blue + ')';
            blue += 50;
        }
    }
    </script>

    <form action="">
        <fieldset>
            <legend>username</legend>
            <input type="text" name="username">
        </fieldset>
        <fieldset>
            <legend>취미</legend>
            <!-- (input:checkbox[name=hobby]#hobby$+label[for=hobby$])*3 -->
            <input type="checkbox" name="hobby" id="hobby1" value="축구">
            <label for="hobby1">축구</label>
            <input type="checkbox" name="hobby" id="hobby2" value="농구">
            <label for="hobby2">농구</label>
            <input type="checkbox" name="hobby" id="hobby3" value="야구">
            <label for="hobby3">야구</label>
        </fieldset>
    </form>
    <button onclick="test3();">getElementsByName</button>
    <script>
    /**
     * getElementsByName
     * - 해당name속성값을 가진 태그를 요소로하는 배열 반환
     */
    function test3(){
        // const username = document.getElementsByName("username")[0]; 
        // console.log(username);
        // console.log(username.value);
        // username.value = 'sinsa';

        const hobbies = document.getElementsByName("hobby");
        console.log(hobbies);
        
        let checkedVal = "";

        for(let i = 0; i < hobbies.length; i++){
            const hobby = hobbies[i];
            console.log(hobby.value, hobby.checked);

            if(hobby.checked){
                checkedVal += hobby.value + " ";
            }
        }

        alert(checkedVal);
    }
    </script>

    <div>
        <p class="grp">자료구조</p>
        <p>알고리즘</p>
        <p class="grp">자바</p>
        <p class="grp">스프링</p>
        <p>시스템디자인</p>
    </div>
    <button onclick="test4();">getElementsByClassName</button>
    <script>
    /**
     * getElementsByClassName
     * - 해당클래스를 가진 태그요소 배열을 반환
     */
    function test4(){
        const grp = document.getElementsByClassName("grp");
        console.log(grp);

        for(let i = 0; i < grp.length; i++){
            grp[i].style.backgroundColor = 'royalblue';
            grp[i].style.color = '#fff';

        }
    }
    </script>

    <!-- form>fieldset>legend -->
    <form action="">
        <fieldset>
            <legend>range</legend>
            <input type="range" name="score" id="score" min="0" max="100" 
                oninput="document.getElementById('scoreIndicator').innerHTML = this.value;">
            <span id="scoreIndicator"></span>
        </fieldset>
    </form>

    <!-- div>(p.cls1>lorem)*3 -->
    <div id="wrap">
        <p class="cls1">Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptas doloremque ipsa officiis maxime voluptate mollitia ratione nulla eveniet totam consequatur deserunt dicta, voluptatum nesciunt quibusdam aspernatur ipsam ullam, quidem libero.</p>
        <p class="cls2" id="p2">Dolores accusantium incidunt fugit eligendi esse ea! Deserunt labore eligendi optio sunt praesentium, nobis quia doloribus, mollitia ipsum provident dolore soluta tempore repellendus est veritatis maxime omnis ipsam, dignissimos illo!</p>
        <p class="cls1 cls2">Harum, facere quod voluptates quos expedita consequatur. Consequatur adipisci tempore sapiente incidunt obcaecati. Voluptates temporibus natus quaerat laboriosam officiis iusto voluptate hic maiores libero facilis neque adipisci, ipsum tenetur modi.</p>
    </div>
    <button onclick="test5();">querySelector</button>
    <button onclick="test6();">querySelectorAll</button>
    <script>
    /**
     * querySelector
     * - css선택자를 통해 일치하는 첫번째요소 반환
     */
    function test5(){
        // const p = document.querySelector("#p2");
        const p = document.querySelector("#wrap p");
        console.log(p);
        p.style.color = "hotpink";
    }
    
    /**
     * querySelectorAll
     * - css선택자를 통해 일치하는 모든 요소를 배열에 반환
     */
    function test6(){
        // const p = document.querySelectorAll("#wrap p");
        const p = document.querySelectorAll("#wrap p.cls1");
        console.log(p);
        for(let i = 0; i < p.length; i++){
            p[i].style.color = "blue";
        }
    }
    </script>

    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>