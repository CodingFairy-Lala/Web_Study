<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>String</title>
</head>
<body>
    <h1>String</h1>
    <!-- 
        String.prototype객체로 부터 물려받은 메소드 사용가능.
    -->
    <button onclick="test1();">String API</button>
    <button onclick="test2();">@실습문제</button>

    <script>
        /**
         * @실습문제
         * - 사용자로부터 입력값을 받고(prompt), 해당 문자열에서 알파벳의 개수를 세어 출력
         * - 입력하신 문자열에서 알파벳은 5개입니다. (안녕하세요. James입니다.)
         * 
         * - 'a' == 97
         */
    function test2(){
        const answer = prompt("알파벳 개수를 찾을 문자를 입력하세요.", "안녕하세요. James입니다.").toLowerCase();
        let cnt = 0;
        // for(let i = 0; i < answer.length; i++){
        //     if(answer[i] >= 'a' && answer[i] <= 'z' || answer[i] >= 'A' && answer[i] <= 'Z'){
        //         cnt++;
        //     }

        if (answer) {
            for(let i = 0; i < answer.length; i++) {
                if(answer[i] >= 'a' && answer[i] <= 'z')
                cnt++;
            }
        }
        
        

        console.log("입력하신 문자열에서 알파벳은 ",cnt,"개 입니다.");
    }



    function test1(){
        const str = "Apple Samsung PineApple";

        console.log(str.toUpperCase()); // APPLE SAMSUNG PINEAPPLE
        console.log(str.toLowerCase()); // apple samsung pineapple
        console.log(str); // Apple Samsung PineApple

        console.log(str.indexOf("Sam")); // 6
        console.log(str.indexOf("XXX")); // -1
        console.log(str.lastIndexOf("Apple")); // 18

        console.log(str.charAt(6));
        // for (let i = 0; i < str.length; i++) {
        //     console.log(str.charAt[i], str[i])
        // }

        // substring(startInclusive, endExclusive)
        // substr(startInclusive, length)

        console.log(str.substring(6, 13)); //Samsung
        console.log(str.substr(6, 7)); // Samsung

        console.log(str.substring(6)); // Samsung pineApple
        console.log(str.substr(6)); // Samsung pineApple

        // 대문자 P를 찾고, 이후 글자 4개 대문자로 반환
        console.log(str.substr(str.indexOf('P'), 4).toUpperCase());

        const idx = str.indexOf('P');
        console.log(str.substring(idx, idx+4).toUpperCase());
        
        // replace
        console.log(str.replace("Apple", "Tomato")); // Tomato Samsung PineApple
        console.log(str.replaceAll("Apple", "Tomato")); //Tomato Samsung PineTomato
        console.log(str); // Apple Samsung PineApple 원본 문자열은 변형되지 않음
        
        // 모든 Apple을 Tomato로 변경
        let result = str;
        while(result.indexOf("Apple") > -1) {
            result = result.replace("Apple", "Tomato");
        }
        console.log(result); // Tomato Samsung PineTomato

        console.log(str.replace(/Apple/g, "Tomato")); // Tomato Samsung PineTomato

        // console.log(str); // Apple Samsung PineApple

        console.log(str.split(" ")); // ['Apple', 'Samsung', 'PineApple']
    }
    </script>

    <h1>Math</h1>
    <button onclick="test3();">실행</button>
    <button onclick="test4();">@실습문제</button>
    <div id="ex">
        <ul></ul>
    </div>
    <script>
        /**
         * @실습문제
         * - #ex ul 하위에 li 태그 100개 생성 후 1~100 사이의 난수 생성
         * - 생성된 난수가 짝수인 경우, 핑크색을 적용.
         * - 버튼을 누를때마다 새로 초기화 되어야 합니다.
         */
        function test4() {
            const wrapper = document.querySelector("#ex ul");
            wrapper.innerHTML = "";

            for(let i = 0; i < 100; i++) {
                const n = Math.floor(Math.random() * 100 + 1);
                wrapper.innerHTML += `<li>${n}</li>`;

                if (n % 2 == 0) {
                    // document.querySelector("#ex ol li:last-child").style.color = "hotpink";
                    wrapper.querySelector("li:last-child").style.color = "hotpink";
                }
            }
        }

        function test3() {
            const m = -123;
            const n = 123.456;

            console.log(Math.abs(m));
            console.log(Math.floor(n)); // 123
            console.log(Math.floor(n * 10) / 10); // 123.4
            console.log(Math.ceil(n)); // 124
            console.log(Math.round(n)); // 123
            console.log(Math.round(n * 100) / 100); // 123.46

            console.log(Math.random()); // 0.0이상 ~ 1.0미만
            console.log(Math.floor(Math.random() * 10 + 1)); // 1 부터 10까지 난수

        }
    </script>
    
    <h1>Date</h1>
    <button onclick="test5();">실행</button>
    <button onclick="test6();">@실습문제</button>
    <h2 id="clock"></h2>
    <script>

        /**
         * #clock 현재날짜시가정보를 출력
         * - 2022년 11월 38일(월) 12:50:12
         */
         function test6() {

         }

        /**
         * Date
         * - 날짜/시각을 관리하는 자바스크립트 객체
         * - 현재 날짜시각 new Date()
         * - 특정 날짜시각 new Date(1999, 8, 9, 12, 12, 12) 년월일시분초 - 월은 (0월~11월)로 처리됨
         * 
         * 
         */
        function test5() {
            const d = new Date();
            console.log(d);

            console.log(d.getFullYear()); // 2022
            console.log(d.getMonth() + 1); // 11
            console.log(d.getDate()); // 28

            console.log(d.getHours());
            console.log(d.getMinutes());
            console.log(d.getSeconds());
        
            // Unix Second (Epoch Time) : 1970년 1월 1일 자정 이후 쌓인 밀리초
            console.log(d.getTime());
            console.log(new Date(d.getTime()));
            console.log(d.getDay()); // 0(일) ~ 6(토)
            
            const daysOfWeek = ["일", "월", "화", "수", "목", "금", "토"];
            console.log(daysOfWeek[d.getDay()]);
        }
    </script>

</body>
</html>